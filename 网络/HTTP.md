# HTTP

## 无状态

超文本传输协议，基于请求与相应模式的无状态协议

对事物的处理没有记忆能力，每次请求都是独立的，无法保存用户状态信息

- Cookie，客户端会话技术

> 两种：一种是保存在浏览器内存中，关闭浏览器则失效；一种是持久的Cookie，以文本形式保存在硬盘上

> 缺点：
>
> 在HTTP请求中，明文传递，不安全
>
> 浏览器可以禁用Cookie，一旦被禁用，将无法工作
>
> Cookie对象只能设置文本（字符串）信息
>
> 客户端浏览器保存Cookie的数量和长度都是有限的（单个Cookie不超过4K）

- Session，服务端会话技术

  ![Session 工作原理图](http://c.biancheng.net/uploads/allimg/210702/150219A04-0.jpg)

  > 当客户端第一次请求会话对象时，服务器会创建一个Session对象，并为之分配一个唯一的SessionID

  > 每个浏览器都独占一个Session，一个浏览器不同窗口可以共享一个Session

## Session和Cookie的区别

| 不同点                 | Cookie                                                       | Session                                                      |
| ---------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 存储位置不同           | Cookie 将数据存放在**客户端**浏览器内存中或硬盘上。          | Session 将数据存储在**服务器端**。                           |
| 大小和数量限制不同     | 浏览器对 Cookie 的大小和数量有限制。                         | Session 的大小和数量一般不受限制。                           |
| 存放数据类型不同       | Cookie 中保存的是字符串。                                    | Session 中保存的是对象。                                     |
| 安全性不同             | Cookie 明文传递，安全性低，他人可以分析存放在本地的 Cookie 并进行 Cookie 欺骗。 | Session 存在服务器端，安全性较高。                           |
| 对服务器造成的压力不同 | Cookie 保存在客户端，不占用服务器资源。                      | Session 保存在服务端，每一个用户独占一个 Session。若并发访问的用户十分多，就会占用大量服务端资源。 |
| 跨域支持上不同         | Cookie 支持跨域名访问。                                      | Session 不支持跨域名访问。                                   |